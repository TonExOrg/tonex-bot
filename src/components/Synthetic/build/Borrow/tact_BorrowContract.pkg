{"name":"BorrowContract","code":"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","abi":"{\"name\":\"BorrowContract\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"UserInfo\",\"header\":null,\"fields\":[{\"name\":\"creditScore\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"totalBorrowed\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"totalCollateral\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"erc20Collateral\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"int\"}},{\"name\":\"nftCollateral\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"int\"}}]},{\"name\":\"SetCreditScore\",\"header\":291,\"fields\":[{\"name\":\"user\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"creditScore\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"Borrow\",\"header\":1110,\"fields\":[{\"name\":\"collateralToken\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"collateralAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"borrowAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"RedeemERC20\",\"header\":1929,\"fields\":[{\"name\":\"collateralToken\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"collateralAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"PerformLiquidation\",\"header\":2748,\"fields\":[{\"name\":\"user\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"BorrowContract$Data\",\"header\":null,\"fields\":[{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"softLiquidationThreshold\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxCreditScore\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"maxThresholdPercent\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"users\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"UserInfo\",\"valueFormat\":\"ref\"}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"Deploy\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"SetCreditScore\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Borrow\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"RedeemERC20\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"PerformLiquidation\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"6935\":{\"message\":\"Credit score not set\"},\"7177\":{\"message\":\"User not found\"},\"21436\":{\"message\":\"Only owner can perform liquidation\"},\"26068\":{\"message\":\"Credit score out of range\"},\"47933\":{\"message\":\"Insufficient collateral\"},\"60323\":{\"message\":\"Insufficient collateral balance\"},\"60939\":{\"message\":\"Only owner can set credit score\"},\"61795\":{\"message\":\"No collateral found\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.debug.v0\",\"org.ton.chain.workchain.v0\"]}","init":{"kind":"direct","args":[],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"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"}},"sources":{"contracts/borrow.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CgovLyBTdHJ1Y3R1cmUgdG8gc3RvcmUgdXNlciBpbmZvcm1hdGlvbgpzdHJ1Y3QgVXNlckluZm8gewogICAgY3JlZGl0U2NvcmU6IEludDsKICAgIHRvdGFsQm9ycm93ZWQ6IEludDsKICAgIHRvdGFsQ29sbGF0ZXJhbDogSW50OwogICAgZXJjMjBDb2xsYXRlcmFsOiBtYXA8QWRkcmVzcywgSW50PjsKICAgIG5mdENvbGxhdGVyYWw6IG1hcDxBZGRyZXNzLCBJbnQ+Owp9CgptZXNzYWdlKDB4MTIzKSBTZXRDcmVkaXRTY29yZSB7CiAgICB1c2VyOiBBZGRyZXNzOwogICAgY3JlZGl0U2NvcmU6IEludDsKfQoKbWVzc2FnZSgweDQ1NikgQm9ycm93IHsKICAgIGNvbGxhdGVyYWxUb2tlbjogQWRkcmVzczsKICAgIGNvbGxhdGVyYWxBbW91bnQ6IEludDsKICAgIGJvcnJvd0Ftb3VudDogSW50Owp9CgptZXNzYWdlKDB4Nzg5KSBSZWRlZW1FUkMyMCB7CiAgICBjb2xsYXRlcmFsVG9rZW46IEFkZHJlc3M7CiAgICBjb2xsYXRlcmFsQW1vdW50OiBJbnQ7Cn0KCm1lc3NhZ2UoMHhhYmMpIFBlcmZvcm1MaXF1aWRhdGlvbiB7CiAgICB1c2VyOiBBZGRyZXNzOwp9Cgpjb250cmFjdCBCb3Jyb3dDb250cmFjdCB3aXRoIERlcGxveWFibGUgewogICAgY29uc3QgTWluVG9uRm9yU3RvcmFnZTogSW50ID0gdG9uKCIwLjAxIik7CiAgICAKICAgIG93bmVyOiBBZGRyZXNzOwogICAgc29mdExpcXVpZGF0aW9uVGhyZXNob2xkOiBJbnQ7CiAgICBtYXhDcmVkaXRTY29yZTogSW50OwogICAgbWF4VGhyZXNob2xkUGVyY2VudDogSW50OwogICAgdXNlcnM6IG1hcDxBZGRyZXNzLCBVc2VySW5mbz47CiAgICAKICAgIGluaXQoKSB7CiAgICAgICAgc2VsZi5vd25lciA9IHNlbmRlcigpOwogICAgICAgIHNlbGYuc29mdExpcXVpZGF0aW9uVGhyZXNob2xkID0gMTEwOyAvLyAxMTAlIG9mIGJvcnJvd2VkIGFtb3VudAogICAgICAgIHNlbGYubWF4Q3JlZGl0U2NvcmUgPSAxMDAwOyAvLyBNYXhpbXVtIGNyZWRpdCBzY29yZQogICAgICAgIHNlbGYubWF4VGhyZXNob2xkUGVyY2VudCA9IDE1MDsgLy8gTWF4IHRocmVzaG9sZCBwZXJjZW50YWdlIGZvciBjb2xsYXRlcmFsCiAgICAgICAgc2VsZi51c2VycyA9IGVtcHR5TWFwKCk7CiAgICB9CgogICAgcmVjZWl2ZSgiRGVwbG95IikgewogICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gdGhlIGNvbnRyYWN0IGlzIGRlcGxveWVkCiAgICAgICAgLy8gTm8gbmVlZCB0byBkbyBhbnl0aGluZyBoZXJlIGFzIGluaXRpYWxpemF0aW9uIGlzIGRvbmUgaW4gaW5pdCgpCiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFNldENyZWRpdFNjb3JlKSB7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLm93bmVyLCAiT25seSBvd25lciBjYW4gc2V0IGNyZWRpdCBzY29yZSIpOwogICAgICAgIHJlcXVpcmUobXNnLmNyZWRpdFNjb3JlIDw9IHNlbGYubWF4Q3JlZGl0U2NvcmUsICJDcmVkaXQgc2NvcmUgb3V0IG9mIHJhbmdlIik7CiAgICAgICAgCiAgICAgICAgaWYgKHNlbGYudXNlcnMuZ2V0KG1zZy51c2VyKSA9PSBudWxsKSB7CiAgICAgICAgICAgIHNlbGYudXNlcnMuc2V0KG1zZy51c2VyLCBVc2VySW5mb3sKICAgICAgICAgICAgICAgIGNyZWRpdFNjb3JlOiBtc2cuY3JlZGl0U2NvcmUsCiAgICAgICAgICAgICAgICB0b3RhbEJvcnJvd2VkOiAwLAogICAgICAgICAgICAgICAgdG90YWxDb2xsYXRlcmFsOiAwLAogICAgICAgICAgICAgICAgZXJjMjBDb2xsYXRlcmFsOiBlbXB0eU1hcCgpLAogICAgICAgICAgICAgICAgbmZ0Q29sbGF0ZXJhbDogZW1wdHlNYXAoKQogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsZXQgdXNlckluZm86IFVzZXJJbmZvID0gc2VsZi51c2Vycy5nZXQobXNnLnVzZXIpISE7CiAgICAgICAgICAgIHVzZXJJbmZvLmNyZWRpdFNjb3JlID0gbXNnLmNyZWRpdFNjb3JlOwogICAgICAgICAgICBzZWxmLnVzZXJzLnNldChtc2cudXNlciwgdXNlckluZm8pOwogICAgICAgIH0KICAgIH0KCiAgICByZWNlaXZlKG1zZzogQm9ycm93KSB7CiAgICAgICAgcmVxdWlyZShzZWxmLnVzZXJzLmdldChzZW5kZXIoKSkgIT0gbnVsbCwgIlVzZXIgbm90IGZvdW5kIik7CiAgICAgICAgbGV0IHVzZXI6IFVzZXJJbmZvID0gc2VsZi51c2Vycy5nZXQoc2VuZGVyKCkpISE7CiAgICAgICAgcmVxdWlyZSh1c2VyLmNyZWRpdFNjb3JlID4gMCwgIkNyZWRpdCBzY29yZSBub3Qgc2V0Iik7CgogICAgICAgIGxldCByZXF1aXJlZENvbGxhdGVyYWw6IEludCA9IChtc2cuYm9ycm93QW1vdW50ICogc2VsZi5jYWxjdWxhdGVUaHJlc2hvbGRQZXJjZW50KHVzZXIuY3JlZGl0U2NvcmUpKSAvIDEwMDsKICAgICAgICByZXF1aXJlKG1zZy5jb2xsYXRlcmFsQW1vdW50ID49IHJlcXVpcmVkQ29sbGF0ZXJhbCwgIkluc3VmZmljaWVudCBjb2xsYXRlcmFsIik7CgogICAgICAgIC8vIFVwZGF0ZSB1c2VyIHN0YXRlCiAgICAgICAgdXNlci50b3RhbEJvcnJvd2VkID0gdXNlci50b3RhbEJvcnJvd2VkICsgbXNnLmJvcnJvd0Ftb3VudDsKICAgICAgICBpZiAodXNlci5lcmMyMENvbGxhdGVyYWwuZ2V0KG1zZy5jb2xsYXRlcmFsVG9rZW4pID09IG51bGwpIHsKICAgICAgICAgICAgdXNlci5lcmMyMENvbGxhdGVyYWwuc2V0KG1zZy5jb2xsYXRlcmFsVG9rZW4sIG1zZy5jb2xsYXRlcmFsQW1vdW50KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1c2VyLmVyYzIwQ29sbGF0ZXJhbC5zZXQobXNnLmNvbGxhdGVyYWxUb2tlbiwgdXNlci5lcmMyMENvbGxhdGVyYWwuZ2V0KG1zZy5jb2xsYXRlcmFsVG9rZW4pISEgKyBtc2cuY29sbGF0ZXJhbEFtb3VudCk7CiAgICAgICAgfQogICAgICAgIHVzZXIudG90YWxDb2xsYXRlcmFsID0gdXNlci50b3RhbENvbGxhdGVyYWwgKyBtc2cuY29sbGF0ZXJhbEFtb3VudDsKICAgICAgICBzZWxmLnVzZXJzLnNldChzZW5kZXIoKSwgdXNlcik7CgogICAgICAgIC8vIFRyYW5zZmVyIGJvcnJvd2VkIGFtb3VudCB0byB1c2VyCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbmRlcigpLAogICAgICAgICAgICB2YWx1ZTogbXNnLmJvcnJvd0Ftb3VudCwKICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycwogICAgICAgIH0pOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBSZWRlZW1FUkMyMCkgewogICAgICAgIHJlcXVpcmUoc2VsZi51c2Vycy5nZXQoc2VuZGVyKCkpICE9IG51bGwsICJVc2VyIG5vdCBmb3VuZCIpOwogICAgICAgIGxldCB1c2VyOiBVc2VySW5mbyA9IHNlbGYudXNlcnMuZ2V0KHNlbmRlcigpKSEhOwogICAgICAgIHJlcXVpcmUodXNlci5lcmMyMENvbGxhdGVyYWwuZ2V0KG1zZy5jb2xsYXRlcmFsVG9rZW4pICE9IG51bGwsICJObyBjb2xsYXRlcmFsIGZvdW5kIik7CiAgICAgICAgbGV0IGNvbGxhdGVyYWxCYWxhbmNlOiBJbnQgPSB1c2VyLmVyYzIwQ29sbGF0ZXJhbC5nZXQobXNnLmNvbGxhdGVyYWxUb2tlbikhITsKICAgICAgICByZXF1aXJlKGNvbGxhdGVyYWxCYWxhbmNlID49IG1zZy5jb2xsYXRlcmFsQW1vdW50LCAiSW5zdWZmaWNpZW50IGNvbGxhdGVyYWwgYmFsYW5jZSIpOwoKICAgICAgICAvLyBVcGRhdGUgc3RhdGUKICAgICAgICB1c2VyLmVyYzIwQ29sbGF0ZXJhbC5zZXQobXNnLmNvbGxhdGVyYWxUb2tlbiwgY29sbGF0ZXJhbEJhbGFuY2UgLSBtc2cuY29sbGF0ZXJhbEFtb3VudCk7CiAgICAgICAgdXNlci50b3RhbENvbGxhdGVyYWwgPSB1c2VyLnRvdGFsQ29sbGF0ZXJhbCAtIG1zZy5jb2xsYXRlcmFsQW1vdW50OwogICAgICAgIHNlbGYudXNlcnMuc2V0KHNlbmRlcigpLCB1c2VyKTsKCiAgICAgICAgLy8gVHJhbnNmZXIgY29sbGF0ZXJhbCBiYWNrIHRvIHVzZXIKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogbXNnLmNvbGxhdGVyYWxUb2tlbiwKICAgICAgICAgICAgdmFsdWU6IG1zZy5jb2xsYXRlcmFsQW1vdW50LAogICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFBlcmZvcm1MaXF1aWRhdGlvbikgewogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5vd25lciwgIk9ubHkgb3duZXIgY2FuIHBlcmZvcm0gbGlxdWlkYXRpb24iKTsKICAgICAgICByZXF1aXJlKHNlbGYudXNlcnMuZ2V0KG1zZy51c2VyKSAhPSBudWxsLCAiVXNlciBub3QgZm91bmQiKTsKICAgICAgICAKICAgICAgICBsZXQgdXNlcjogVXNlckluZm8gPSBzZWxmLnVzZXJzLmdldChtc2cudXNlcikhITsKICAgICAgICBsZXQgdGhyZXNob2xkUGVyY2VudDogSW50ID0gc2VsZi5jYWxjdWxhdGVUaHJlc2hvbGRQZXJjZW50KHVzZXIuY3JlZGl0U2NvcmUpOwoKICAgICAgICBpZiAoKHVzZXIudG90YWxDb2xsYXRlcmFsICogMTAwKSAvIHVzZXIudG90YWxCb3Jyb3dlZCA8IHRocmVzaG9sZFBlcmNlbnQpIHsKICAgICAgICAgICAgLy8gTGlxdWlkYXRlIHVzZXIncyBjb2xsYXRlcmFsCiAgICAgICAgICAgIC8vIFJlc2V0IHVzZXIncyBzdGF0ZQogICAgICAgICAgICB1c2VyLnRvdGFsQm9ycm93ZWQgPSAwOwogICAgICAgICAgICB1c2VyLnRvdGFsQ29sbGF0ZXJhbCA9IDA7CiAgICAgICAgICAgIHVzZXIuZXJjMjBDb2xsYXRlcmFsID0gZW1wdHlNYXAoKTsKICAgICAgICAgICAgdXNlci5uZnRDb2xsYXRlcmFsID0gZW1wdHlNYXAoKTsKICAgICAgICAgICAgc2VsZi51c2Vycy5zZXQobXNnLnVzZXIsIHVzZXIpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW4gY2FsY3VsYXRlVGhyZXNob2xkUGVyY2VudChjcmVkaXRTY29yZTogSW50KTogSW50IHsKICAgICAgICAvLyBIaWdoZXIgY3JlZGl0IHNjb3JlID0gbG93ZXIgY29sbGF0ZXJhbCByZXF1aXJlbWVudAogICAgICAgIC8vIENyZWRpdCBzY29yZSBvZiAxMDAwID0gMTEwJSBjb2xsYXRlcmFsIHJlcXVpcmVkCiAgICAgICAgLy8gQ3JlZGl0IHNjb3JlIG9mIDAgPSAxNTAlIGNvbGxhdGVyYWwgcmVxdWlyZWQKICAgICAgICBsZXQgcmFuZ2U6IEludCA9IHNlbGYubWF4VGhyZXNob2xkUGVyY2VudCAtIHNlbGYuc29mdExpcXVpZGF0aW9uVGhyZXNob2xkOwogICAgICAgIHJldHVybiBzZWxmLm1heFRocmVzaG9sZFBlcmNlbnQgLSAoKGNyZWRpdFNjb3JlICogcmFuZ2UpIC8gc2VsZi5tYXhDcmVkaXRTY29yZSk7CiAgICB9Cn0K"},"compiler":{"name":"tact","version":"1.4.4","parameters":"{\"entrypoint\":\"contracts/borrow.tact\",\"options\":{\"debug\":true}}"}}